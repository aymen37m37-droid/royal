# ุฏููู ุงูุนูููุงุช ุงูุญุณุงุจูุฉ ูู ูุธุงู ุฅุฏุงุฑุฉ ุงููุทุนู

## ๐ ูุธุฑุฉ ุนุงูุฉ

ูุฐุง ุงูุฏููู ููุถุญ ุจุงูุชูุตูู ููู ูุชู ุญุณุงุจ ูุชุณุฌูู ุฌููุน ุงูุนูููุงุช ุงูุญุณุงุจูุฉ ูู ุงููุธุงูุ ุจูุง ูู ุฐูู:
- ุฎุตู ุงููุฎุฒูู ุนูุฏ ูุทุน ุงูููุงุชูุฑ
- ุฎุตู ุงููุฌุจุงุช ูู ุญุณุงุจุงุช ุงูููุธููู
- ุชุณุฌูู ุงูุญุฑูุงุช ุงููุงููุฉ
- ุญุณุงุจ ุงูุณูู ูุงูุฑูุงุชุจ

---

## ๐ช ูุธุงู ููุทุฉ ุงููุงุดูุฑ (POS)

### ุขููุฉ ุนูู ูุทุน ุงููุงุชูุฑุฉ:

#### 1. ุงุฎุชูุงุฑ ุงูุฃุตูุงู
```javascript
// ุนูุฏ ุฅุถุงูุฉ ุตูู ููุทูุจ:
- ุงูุชุญูู ูู ุชููุฑ ุงููููุฉ ุงููุทููุจุฉ
- ุฅุถุงูุฉ ุงูุตูู ููุงุฆูุฉ ุงูุทูุจ ุงููุคูุชุฉ (window.posOrder)
```

#### 2. ุชุฃููุฏ ุงูุทูุจ ูุฎุตู ุงููุฎุฒูู
```javascript
async function submitPOSOrder() {
    // ููู ุตูู ูู ุงูุทูุจ:
    for (const item of window.posOrder.items) {
        // 1. ุฌูุจ ุงูุตูู ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
        const inventoryItem = await db.getById('inventory_items', item.id);
        
        // 2. ุฎุตู ุงููููุฉ ูู ุงููุฎุฒูู
        inventoryItem.quantity -= item.quantity;
        
        // 3. ุชุญุฏูุซ ุงูุตูู ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
        await db.update('inventory_items', inventoryItem);
        
        // 4. ุชุณุฌูู ุญุฑูุฉ ุงููุฎุฒูู (ุฎุฑูุฌ)
        await db.add('inventory_movements', {
            item_id: item.id,
            item_name: item.name,
            type: 'out',
            quantity: item.quantity,
            reason: `ุทูุจ ูุณู ${department}`,
            date: new Date().toISOString()
        });
    }
    
    // 5. ุญูุธ ุงูุทูุจ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
    await db.add('pos_orders', order);
}
```

#### 3. ุงููุชูุฌุฉ ุงูููุงุฆูุฉ:
โ **ุชู ุฎุตู ุงููููุฉ ูู ุงููุฎุฒูู**
โ **ุชู ุชุณุฌูู ุญุฑูุฉ ุงูุฎุฑูุฌ**
โ **ุชู ุญูุธ ุงูุทูุจ ูููุฑุงุฌุนุฉ**
โ **ุทุจุงุนุฉ ุงููุงุชูุฑุฉ**

---

## ๐ฝ๏ธ ูุธุงู ูุงุดูุฑ ุงูููุธููู

### ุขููุฉ ุนูู ุทูุจ ุงููุฌุจุงุช:

#### 1. ุงุฎุชูุงุฑ ุงููุฌุจุงุช
```javascript
// ุนูุฏ ุฅุถุงูุฉ ูุฌุจุฉ ููุทูุจ:
- ุญุณุงุจ ุฅุฌูุงูู ุงููุฌุจุฉ = ุงูุณุนุฑ ร ุงููููุฉ
- ุฅุถุงูุฉ ููุทูุจ ุงููุคูุช (window.mealOrder)
- ุชุญุฏูุซ ุงูุฅุฌูุงูู ุงูููู
```

#### 2. ุชุฃููุฏ ุงูุทูุจ ูุฎุตู ูู ุญุณุงุจ ุงูููุธู
```javascript
async function submitMealOrder() {
    // 1. ุญูุธ ุงูุทูุจ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
    const orderId = await db.add('employee_meal_orders', order);
    
    // 2. ุฌูุจ ุจูุงูุงุช ุงูููุธู
    const employee = await db.getById('employees', employeeId);
    
    // 3. ุงูุชุฃูุฏ ูู ูุฌูุฏ ุฑุตูุฏ ูุฌุจุงุช (ุฅูุดุงุก ุฅุฐุง ูู ููู ููุฌูุฏ)
    if (!employee.meal_balance) {
        employee.meal_balance = 0;
    }
    
    // 4. ุฎุตู ุงููุจูุบ ูู ุญุณุงุจ ุงูููุธู
    employee.meal_balance -= window.mealOrder.total;
    
    // 5. ุชุญุฏูุซ ุจูุงูุงุช ุงูููุธู ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
    await db.update('employees', employee);
}
```

#### 3. ุงููุชูุฌุฉ ุงูููุงุฆูุฉ:
โ **ุชู ุฎุตู ุงููุจูุบ ูู ุญุณุงุจ ุงูููุธู**
โ **ุชู ุชุณุฌูู ุทูุจ ุงููุฌุจุฉ**
โ **ุชุญุฏูุซ ุฑุตูุฏ ุงูููุธู ุชููุงุฆูุงู**
โ **ุทุจุงุนุฉ ุงููุงุชูุฑุฉ**

---

## ๐ฐ ูุธุงู ุงูุณูู ูุงูุฑูุงุชุจ

### ุญุณุงุจ ุงูุณูู:
```javascript
// ุนูุฏ ุฅุถุงูุฉ ุณููุฉ:
1. ุชุณุฌูู ุงูุณููุฉ ูู ุฌุฏูู employee_advances
2. ุชุชุจุน ุงููุจูุบ ูุงูุชุณุฏูุฏ ูุงููุชุจูู
3. ุนุฑุถ ูู ูุดู ุญุณุงุจ ุงูููุธู
```

### ุญุณุงุจ ุงูุฑุงุชุจ:
```javascript
// ุนูุฏ ุฅุถุงูุฉ ุฑุงุชุจ:
ุตุงูู ุงูุฑุงุชุจ = ุงูุฑุงุชุจ ุงูุฃุณุงุณู + ุงูุญูุงูุฒ - ุงูุฎุตููุงุช - ุงูุณูู
```

---

## ๐ฆ ูุธุงู ุงููุฎุฒูู ุงููุชูุฏู

### 1. ุญุฑูุฉ ุงููุฎุฒูู (ุงููุงุฑุฏ ูุงูุตุงุฏุฑ)
```javascript
// ุนูุฏ ุชุณุฌูู ุญุฑูุฉ:
- ุชุณุฌูู ุงูููุน (ูุงุฑุฏ/ุตุงุฏุฑ)
- ุญุณุงุจ ุงูุชูููุฉ ุงูุฅุฌูุงููุฉ
- ุชุญุฏูุซ ุงููููุฉ ูู ุงููุฎุฒูู
```

### 2. ุฌุฑุฏ ุงููุฎุฒูู
```javascript
// ุนูุฏ ุฅุฌุฑุงุก ุฌุฑุฏ:
- ุญุณุงุจ ุงููุฑู = ุงููููุฉ ุงููุนููุฉ - ุงููููุฉ ุงููุณุฌูุฉ
- ุชุญุฏูุซ ุงููููุฉ ูู ุงููุฎุฒูู ุชููุงุฆูุงู
- ุชุณุฌูู ุงูุฌุฑุฏ ูุน ุงูุชุงุฑูุฎ
```

### 3. ุงููุฏุฑ ูุงููุงูุฏ
```javascript
// ุนูุฏ ุชุณุฌูู ูุฏุฑ:
- ุญุณุงุจ ุงูุชูููุฉ = ุงููููุฉ ร ุณุนุฑ ุงูุชูููุฉ
- ุญุณุงุจ ูุณุจุฉ ุงููุฏุฑ ูู ุฅุฌูุงูู ุงููุฎุฒูู
- ุชุณุฌูู ุงูุณุจุจ
```

---

## ๐ข ูุธุงู ุงูููุฑุฏูู ูุงููุดุชุฑูุงุช

### 1. ููุงุชูุฑ ุงูุดุฑุงุก
```javascript
// ุนูุฏ ุฅุถุงูุฉ ูุงุชูุฑุฉ ุดุฑุงุก:
1. ุญุณุงุจ ุงูุฅุฌูุงูู ูู ุงูุฃุตูุงู
2. ุญูุธ ุงููุงุชูุฑุฉ
3. ุชุญุฏูุซ ุงููุฎุฒูู ุชููุงุฆูุงู (ุฅุถุงูุฉ ุงููููุงุช)
4. ุชุณุฌูู ุงููุฏููููุฉ ููููุฑุฏ
```

### 2. ุงููุฏููุนุงุช ููููุฑุฏูู
```javascript
// ุนูุฏ ุชุณุฌูู ุฏูุนุฉ:
1. ุญูุธ ุณูุฏ ุงูุตุฑู
2. ุฎุตู ุงููุจูุบ ูู ุงููุฏููููุฉ
3. ุชุญุฏูุซ ุฑุตูุฏ ุงูููุฑุฏ
```

---

## ๐ ุงูุชูุงุฑูุฑ ูุงูุฅุญุตุงุฆูุงุช

### ุงูุญุณุงุจุงุช ุงูุชููุงุฆูุฉ:

#### 1. ูู ุงููุฎุฒูู:
- **ุชูููุฉ ุงููุฎุฒูู** = ูุฌููุน (ุงููููุฉ ร ุณุนุฑ ุงูุดุฑุงุก)
- **ูููุฉ ุงููุจูุนุงุช ุงููุชููุนุฉ** = ูุฌููุน (ุงููููุฉ ร ุณุนุฑ ุงูุจูุน)
- **ูุงูุด ุงูุฑุจุญ** = ูููุฉ ุงููุจูุนุงุช - ุงูุชูููุฉ
- **ูุณุจุฉ ุงููุฏุฑ** = (ุชูููุฉ ุงููุฏุฑ / ุงูุชูููุฉ ุงููููุฉ) ร 100

#### 2. ูู ุงููุงููุฉ:
- **ุตุงูู ุงูุฑุจุญ** = ุงูุฅูุฑุงุฏุงุช - ุงููุตุฑููุงุช
- **ูุงูุด ุงูุฑุจุญ** = (ุตุงูู ุงูุฑุจุญ / ุงูุฅูุฑุงุฏุงุช) ร 100
- **ูุณุจุฉ ุงูุชูุงููู** = (ุงููุตุฑููุงุช / ุงูุฅูุฑุงุฏุงุช) ร 100

#### 3. ูู ุงูููุธููู:
- **ุณุงุนุงุช ุงูุนูู** = ููุช ุงูุฎุฑูุฌ - ููุช ุงูุฏุฎูู
- **ุงูุชุฃุฎูุฑ** = ุงููุฑู ุจูู ุงูุฏุฎูู ุงููุนูู ูุงููุชููุน
- **ุตุงูู ุงูุฑุงุชุจ** = ุงูุฃุณุงุณู + ุงูุญูุงูุฒ - ุงูุฎุตููุงุช - ุงูุณูู

---

## ๐ ูุธุงู ุงูุฅุดุนุงุฑุงุช ุงูุฐููุฉ

### ุงูุชูุจููุงุช ุงูุชููุงุฆูุฉ:

1. **ุงููุฎุฒูู ุงูููุฎูุถ**: ุนูุฏูุง ุชุตู ุงููููุฉ ูุญุฏ ุฅุนุงุฏุฉ ุงูุทูุจ
2. **ูุฑุจ ุงูุชูุงุก ุงูุตูุงุญูุฉ**: ูุจู 7 ุฃูุงู ูู ุงูุงูุชูุงุก
3. **ูุงูุด ุฑุจุญ ููุฎูุถ**: ุนูุฏูุง ููู ุนู 15%
4. **ูุณุจุฉ ูุฏุฑ ุนุงููุฉ**: ุนูุฏูุง ุชุชุฌุงูุฒ 5%
5. **ูุฏููููุงุช ูุฑุชูุนุฉ**: ุนูุฏูุง ุชุชุฌุงูุฒ 10,000 ุฑูุงู
6. **ุชูููุฉ ุนูุงูุฉ ูุฑุชูุนุฉ**: ุนูุฏูุง ุชุชุฌุงูุฒ 30% ูู ุงูุฅูุฑุงุฏุงุช

---

## โ ุถูุงู ุตุญุฉ ุงูุจูุงูุงุช

### ุขููุงุช ุงูุญูุงูุฉ:

1. **ุงูุชุญูู ูู ุงููููุงุช**:
   - ูุง ูููู ุฎุตู ูููุฉ ุฃูุจุฑ ูู ุงููุชููุฑ
   - ุงูุชุญูู ูุจู ุชูููุฐ ุฃู ุนูููุฉ

2. **ุงูุชุญูู ูู ุงูุญููู ุงููุงุฑุบุฉ**:
   - ูุนุงูุฌุฉ ุขููุฉ ููุญููู ุงูุงุฎุชูุงุฑูุฉ (category, name)
   - ููุน ุงูุฃุฎุทุงุก ุนูุฏ ุงูุจุญุซ ูุงูููุชุฑุฉ

3. **ุชุณูุณู ุงูุนูููุงุช**:
   - ุชูููุฐ ุฌููุน ุงูุนูููุงุช ุจุดูู ูุชุณูุณู
   - ุถูุงู ุงูุชูุงู ุฌููุน ุงูุฎุทูุงุช ูุจู ุงูุชุฃููุฏ

4. **ุงููุณุฎ ุงูุงุญุชูุงุทู**:
   - ุฅููุงููุฉ ุชุตุฏูุฑ ูุงุณุชุนุงุฏุฉ ูุงูู ุงูุจูุงูุงุช
   - ุญูุงูุฉ ูู ููุฏุงู ุงูุจูุงูุงุช

---

## ๐ฏ ุฎูุงุตุฉ

**ุงููุธุงู ูุถูู:**
- โ ุฎุตู ุชููุงุฆู ูู ุงููุฎุฒูู ุนูุฏ ูุทุน ุงูููุงุชูุฑ
- โ ุฎุตู ุชููุงุฆู ูู ุญุณุงุจุงุช ุงูููุธููู ุนูุฏ ุทูุจ ุงููุฌุจุงุช
- โ ุชุณุฌูู ูุงูู ูุฌููุน ุงูุญุฑูุงุช ุงููุงููุฉ
- โ ุญุณุงุจุงุช ุฏูููุฉ ููุฃุฑุจุงุญ ูุงูุชูุงููู
- โ ุชูุจููุงุช ุฐููุฉ ูููุดุงูู ุงููุญุชููุฉ
- โ ุชูุงุฑูุฑ ุดุงููุฉ ูููุตูุฉ

**ุฌููุน ุงูุนูููุงุช ุงูุญุณุงุจูุฉ ุชุชู ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช IndexedDB ุงููุญููุฉ ุจุดูู ุขูู ูููุซูู!**
